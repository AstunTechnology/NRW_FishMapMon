MAP

    CONFIG PROJ_LIB "/usr/share/proj"
    PROJECTION
        "init=epsg:27700"
    END
    EXTENT -3276800 -3276800 3276800 3276800
    FONTSET "fonts/fonts.list"
    TEMPLATEPATTERN "."
    SYMBOLSET "symbols/symbols.sym"
    SHAPEPATH "./"
    SIZE 1500 1500
    MAXSIZE 8192
    STATUS ON
    UNITS METERS
    # DEBUG 5
    CONFIG MS_ERRORFILE "/var/log/mapserver/fishmap.log"
    NAME "FishMapOverlays"

    WEB
        METADATA
            WMS_TITLE "FishMap Overlays"
            AUTHOR "Astun Technology Ltd - www.astuntechnology.com"
            WMS_SRS "EPSG:27700"
            "ows_enable_request"   "*"
        END
        IMAGEPATH "/tmp/"
        IMAGEURL ""
        LOG "/var/log/mapserver/fishmap-web.log"
        TEMPLATE "globexml.xml"
    END

    # IMAGETYPE png 
    OUTPUTFORMAT 
        NAME png
        MIMETYPE "image/png" 
        DRIVER "AGG/PNG" 
        EXTENSION "png" 
        IMAGEMODE RGB
        FORMATOPTION "INTERLACE=OFF" 
    END

    QUERYMAP
        COLOR 255 255 0
        SIZE -1 -1
        STATUS ON
        STYLE HILITE
    END

    LEGEND
        STATUS ON
        KEYSIZE 18 12
        # LABEL object
        LABEL
            TYPE TRUETYPE
            FONT Arial
            SIZE 10
            COLOR 0 0 89
        END
    END

    LAYER
        NAME "project_area"
        INCLUDE "pgconnection.inc"
        DATA "wkb_geometry from (select * from project_area) as foo using unique ogc_fid using srid=27700"
        PROJECTION
            "init=epsg:27700"
        END
        METADATA
            ows_title "Project Area"
        END
        STATUS OFF
        TYPE POLYGON
        UNITS METERS
        CLASS
            NAME "Project Area"
            STYLE
                OUTLINECOLOR 255 0 0
            END
            STYLE
                COLOR 255 0 0
                OPACITY 0
            END
        END
    END

    LAYER
        NAME "subtidal_habitats"
        INCLUDE "pgconnection.inc"
        DATA "wkb_geometry from (select * from subtidal_habitats) as foo using unique ogc_fid using srid=27700"
        PROJECTION
            "init=epsg:27700"
        END
        METADATA
            ows_title "Subtidal Habitats"
        END
        STATUS OFF
        TYPE POLYGON
        UNITS METERS
        CLASS
            NAME "Shale and mud"
            STYLE
                OUTLINECOLOR 255 0 0
            END
            STYLE
                COLOR 255 0 0
                OPACITY 0
            END
        END
    END

    LAYER
        NAME "subtidal_habitats_confidence"
        INCLUDE "pgconnection.inc"
        DATA "wkb_geometry from (select * from subtidal_habitats_confidence) as foo using unique ogc_fid using srid=27700"
        PROJECTION
            "init=epsg:27700"
        END
        METADATA
            ows_title "Subtidal Habitats Confidence"
        END
        STATUS OFF
        TYPE POLYGON
        UNITS METERS
        CLASS
            NAME "High Confidence"
            STYLE
                OUTLINECOLOR 255 0 0
            END
            STYLE
                COLOR 255 0 0
                OPACITY 0
            END
        END
    END

END
